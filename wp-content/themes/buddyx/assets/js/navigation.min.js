var buddyx_keymap={TAB:9};function buddyx_initNavigation(){buddyx_initNavToggleSubmenus(),buddyx_initNavToggleSmall()}function buddyx_initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(let t=0;t<e.length;t++)buddyx_initEachNavToggleSubmenu(e[t])}function buddyx_initEachNavToggleSubmenu(e){var t=e.querySelectorAll(".menu ul");if(t.length){var n=buddyx_getDropdownButton();for(let e=0;e<t.length;e++){var l=t[e].parentNode;let a=l.querySelector(".dropdown");if(!a){(a=document.createElement("span")).classList.add("dropdown");var d=document.createElement("i");d.classList.add("dropdown-symbol"),a.appendChild(d),t[e].parentNode.insertBefore(a,t[e])}var o=n.cloneNode(!0);o.innerHTML=a.innerHTML,a.parentNode.replaceChild(o,a),o.addEventListener("click",e=>{buddyx_toggleSubMenu(e.target.parentNode)}),l.addEventListener("mouseleave",e=>{buddyx_toggleSubMenu(e.target,!1)}),l.querySelector("a").addEventListener("focus",e=>{var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let e=0;e<t.length;e++)buddyx_toggleSubMenu(t[e],!1)}),t[e].addEventListener("keydown",e=>{var t="ul.toggle-show > li > a, ul.toggle-show > li > button";buddyx_keymap.TAB===e.keyCode&&(e.shiftKey?buddyx_isfirstFocusableElement(e.target,document.activeElement,t)&&buddyx_toggleSubMenu(e.target.parentNode,!1):buddyx_islastFocusableElement(e.target,document.activeElement,t)&&buddyx_toggleSubMenu(e.target.parentNode,!1))}),t[e].parentNode.classList.add("menu-item--has-toggle")}}}function buddyx_initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(let t=0;t<e.length;t++)buddyx_initEachNavToggleSmall(e[t])}function buddyx_initEachNavToggleSmall(e){var t=e.querySelector(".menu-toggle");t&&(t.setAttribute("aria-expanded","false"),t.addEventListener("click",e=>{e.target.setAttribute("aria-expanded","false"===e.target.getAttribute("aria-expanded")?"true":"false")},!1))}function buddyx_toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle"),l=e.querySelector("ul");let d=e.classList.contains("menu-item--toggled-on");if(void 0!==t&&"boolean"==typeof t&&(d=!t),n.setAttribute("aria-expanded",(!d).toString()),d){e.classList.remove("menu-item--toggled-on"),l.classList.remove("toggle-show"),n.setAttribute("aria-label",buddyxScreenReaderText.expand);var o=e.querySelectorAll(".menu-item--toggled-on");for(let e=0;e<o.length;e++)buddyx_toggleSubMenu(o[e],!1)}else{var a=e.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let e=0;e<a.length;e++)buddyx_toggleSubMenu(a[e],!1);e.classList.add("menu-item--toggled-on"),l.classList.add("toggle-show"),n.setAttribute("aria-label",buddyxScreenReaderText.collapse)}}function buddyx_getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",buddyxScreenReaderText.expand),e}function buddyx_isfirstFocusableElement(e,t,n){var l=e.querySelectorAll(n);return 0<l.length&&t===l[0]}function buddyx_islastFocusableElement(e,t,n){var l=e.querySelectorAll(n);return 0<l.length&&t===l[l.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",buddyx_initNavigation):buddyx_initNavigation(),function(){var e=document.getElementById("masthead"),t=document.querySelectorAll(".buddyx-mobile-menu")[0];e&&t&&document.addEventListener("keydown",function(e){var n=t.querySelectorAll("input, a, button"),l=document.querySelector(".menu-close"),d=n[n.length-1],o=n[0],a=document.activeElement,u=9===e.keyCode,r=e.shiftKey,i=jQuery(a).attr("id");"menu-toggle"==i&&jQuery("#"+i).hasClass("menu-toggle-open")&&l.focus(),"menu-close"!=i||jQuery("#menu-toggle").hasClass("menu-toggle-open")||d.focus(),!r&&u&&d===a&&(e.preventDefault(),l.focus()),r&&u&&o===a&&(e.preventDefault(),l.focus()),r&&u&&l===a&&(e.preventDefault(),d.focus())})}();